{% extends "shop/base.html" %}
{% block title %}{{ product.name }}{% endblock %}

{% block breadcrumbs %}
<li class="breadcrumb-item">
  <a href="{% url 'shop:category_detail' product.subcategory.category.slug %}">{{ product.subcategory.category.name }}</a>
</li>
<li class="breadcrumb-item">
  <a href="{% url 'shop:subcategory_detail' product.subcategory.slug %}">{{ product.subcategory.name }}</a>
</li>
<li class="breadcrumb-item active" aria-current="page">{{ product.name }}</li>
{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row">
    <div class="col-md-6">
      {% if product.image %}
      <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.name }}">
      {% endif %}
    </div>
    <div class="col-md-6">
      <h2>{{ product.name }}</h2>
      {% if product.description %}
      <p>{{ product.description }}</p>
      {% endif %}
      {% if product.has_variants %}
        <p>Доступні варіанти:</p>
        <ul>
          {% for variant in product.variants.all %}
          <li>{{ variant.color }} {{ variant.size }} — {{ variant.price }} грн ({{ variant.unit_of_measurement }})</li>
          {% endfor %}
        </ul>
      {% else %}
        <p><strong>Ціна:</strong> {{ product.price }} грн</p>
        <p><strong>Кількість на складі:</strong> {{ product.quantity }} {{ product.unit_of_measurement }}</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
